<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>加载更多</title>
  <style>
  	*{
  		margin:0;
  		padding:0;
  	}
  	#news-list li{
		height:34px;
		line-height:34px;
		margin: 20px;
		border:1px solid #ccc;
		border-radius: 3px;
		list-style-type:none;
  	}
  	#load-more{
  		width: 140px;
  		border:1px solid #ccc;
  		background: green;
  		border-radius: 3px;
  		height:34px;
  		line-height: 34px;
  		text-align: center;
  		display: block;
  		margin:0 auto;
  		cursor: pointer;
  	}
  </style>

</head>
<body>
<ul id="news-list">
</ul>
<a id="load-more" href="javascript:void(0)">加载更多</a>
<script type="text/javascript" src="jquery-1.7.1.js"></script>
<script type="text/javascript">
	var news=$("#news-list");
	var btn=$("#load-more");
	var pageIndex=0;	
	btn.click(function(){
		$.get("/loadmore",{"index":pageIndex,"length":5}).done(
			function(data){
				appendHTML(data);
				console.log(data)			
			}
		)

		
	})	
		function appendHTML(result){
			pageIndex=pageIndex+5;
		$.each(result,function(i,e){			
			var node=$("<li></li>")
			node.text(result[i]);
			news.append(node);
		})		
    }
</script>
</body>
</html>
